<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Up and Running :: CIDER</title>
    <link rel="canonical" href="https://cider.mx/cider/basics/up_and_running.html">
    <meta name="generator" content="Antora 2.0.0">
    <link rel="stylesheet" href="../../_/css/site.css">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-140176314-1"></script>
    <script>dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)};gtag('js',new Date());gtag('config','UA-140176314-1')</script>
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://cider.mx">CIDER</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Projects</a>
          <div class="navbar-dropdown">
              <a class="navbar-item" href="https://github.com/clojure-emacs/cider">CIDER</a>
              <a class="navbar-item" href="https://github.com/clojure-emacs/cider-nrepl">CIDER nREPL</a>
              <a class="navbar-item" href="https://github.com/clojure-emacs/orchard">Orchard</a>
              <a class="navbar-item" href="https://github.com/clojure-emacs/clojure-mode">clojure-mode</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="/cider/about/support.html">Support</a>
            <a class="navbar-item" href="/cider/contributing.html">Contributing</a>
            <a class="navbar-item" href="https://opencollective.com/cider">Open Collective</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="cider" data-version="master">
  <aside class="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">CIDER</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Getting Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="installation.html">Installation</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="up_and_running.html">Up and Running</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="clojurescript.html">ClojureScript</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Using CIDER</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../usage/interactive_programming.html">Interactive Programming</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../usage/cider_mode.html">cider-mode</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../usage/managing_connections.html">Managing Connections</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../usage/code_completion.html">Code Completion</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../usage/pretty_printing.html">Pretty Printing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../usage/navigating_stacktraces.html">Navigating Stacktraces</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../usage/misc_features.html">Misc Features</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Testing</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../testing/running_tests.html">Running Tests</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../testing/test_reports.html">Test Reports</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../testing/supported_libraries.html">Supported Libraries</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Debugging</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../debugging/tracing.html">Tracing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../debugging/enlighten.html">Enlighten</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../debugging/debugger.html">Debugger</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../debugging/misc.html">Misc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Configuration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../config/basic_config.html">Basic Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../config/syntax_highlighting.html">Syntax Highlighting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../config/indentation.html">Indentation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../config/eldoc.html">Eldoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../config/misc.html">Misc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../indent_spec.html">Indentation Specification</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Using the REPL</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../repl/basic_usage.html">Basic Usage</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../repl/keybindings.html">Keybindings</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../repl/configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../repl/history.html">REPL History</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../caveats.html">Caveats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../troubleshooting.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../faq.html">FAQ</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../additional_packages.html">Additional Packages</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../additional_resources.html">Additional Resources</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../contributing.html">Contributing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contributing/hacking.html">Hacking on CIDER</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#">contributing/docs.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contributing/funding.html">Funding</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">About</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../about/history.html">History</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../about/team.html">Team</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../about/support.html">Support</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../about/changelog.html">Changelog</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../about/release_policy.html">Release Policy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../about/logo.html">Logo</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../about/license.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">CIDER</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">CIDER</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../index.html">CIDER</a></li>
    <li class="crumb">Getting Started</li>
    <li class="crumb"><a href="up_and_running.html">Up and Running</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/clojure-emacs/cider/edit/master/doc/modules/ROOT/pages/basics/up_and_running.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>Up and Running</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>To use CIDER, you&#8217;ll need to connect it to a running nREPL server that
is associated with your program. Most Clojure developers use standard
build tooling such as Leiningen, Boot, or Gradle, and CIDER can
automatically work with those tools to get you up and running
quickly. But those tools are not required; CIDER can connect to an
nREPL server that is already started and is managed separately.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
CIDER will automatically work with Leiningen 2.9.0+ or Boot
2.8.3+. Older versions are not supported.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There are two ways to connect CIDER to an nREPL server:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>CIDER can launch an nREPL server for your project from Emacs.</p>
</li>
<li>
<p>You can connect CIDER to an already-running nREPL server, managed separately.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The following sections describe each of these methods.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_launch_an_nrepl_server_from_emacs"><a class="anchor" href="#_launch_an_nrepl_server_from_emacs"></a>Launch an nREPL Server From Emacs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you have a Clojure project in your file system and want CIDER to
launch an nREPL session for it, simply visit a file that belongs to
the project, and type <kbd>M-x</kbd> <code>cider-jack-in</code>
<kbd>RET</kbd>. CIDER will start an nREPL server and automatically
connect to it.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If your project uses <code>lein</code>, <code>boot</code> or <code>tools.deps (deps.edn)</code>,
CIDER will automatically inject all the necessary nREPL
dependencies when it starts the server. CIDER does not currently support
dependency auto-injection for Gradle projects.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Alternatively, you can use <kbd>C-u M-x</kbd> <code>cider-jack-in</code> <kbd>RET</kbd> to
specify the name of a <code>lein</code>, <code>boot</code> or <code>tools.deps</code> project, without having to
visit any file in it. This option is also useful if your project contains some
combination of <code>project.clj</code>, <code>build.boot</code> and <code>deps.edn</code> and you want to launch
a REPL for one or the other.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
In Clojure(Script) buffers the command <code>cider-jack-in</code> is bound to <kbd>C-c C-x (C-)j (C-)j</kbd>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can further customize the command line CIDER uses for <code>cider-jack-in</code> by
modifying the following string options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>cider-lein-global-options</code>, <code>cider-boot-global-options</code>,
<code>cider-clojure-cli-global-options</code>, <code>cider-gradle-global-options</code>:
these are passed to the command directly, in first position
(e.g., <code>-o</code> to <code>lein</code> enables offline mode).</p>
</li>
<li>
<p><code>cider-lein-parameters</code>, <code>cider-boot-parameters</code>,
<code>cider-clojure-cli-parameters</code>, <code>cider-gradle-parameters</code>: these are
usually task names and their parameters (e.g., <code>dev</code> for launching
boot&#8217;s dev task instead of the standard <code>repl -s wait</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that if you try to run <code>cider-jack-in</code> outside a project
directory, CIDER will warn you and ask you to confirm whether you
really want to do this; more often than not, this is an accident.  If
you decide to proceed, CIDER will invoke the command configured in
<code>cider-jack-in-default</code>. Prior to CIDER 0.17, this defaulted to <code>lein</code>
but was subsequently switched to <code>clj</code>, Clojure&#8217;s basic startup command.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can set <code>cider-allow-jack-in-without-project</code> to <code>t</code> if you&#8217;d like to
disable the warning displayed when jacking-in outside a project.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connect_to_a_running_nrepl_server"><a class="anchor" href="#_connect_to_a_running_nrepl_server"></a>Connect to a Running nREPL Server</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you have an nREPL server already running, CIDER can connect to
it. For instance, if you have a Leiningen-based project, go to your
project&#8217;s directory in a terminal session and type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">$ lein repl :headless</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will start the project&#8217;s nREPL server.</p>
</div>
<div class="paragraph">
<p>If your project uses <code>boot</code>, do this instead:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">$ boot repl -s wait (or whatever task launches a repl)</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is also possible for plain <code>clj</code>, although the command is somewhat longer:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">$ clj -Sdeps '{:deps {cider/cider-nrepl {:mvn/version "0.21.1"}}}' -m nrepl.cmdline --middleware "[cider.nrepl/cider-middleware]"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, you can start nREPL either manually or using the facilities
provided by your project&#8217;s build tool (Gradle, Maven, etc).</p>
</div>
<div class="paragraph">
<p>After you get your nREPL server running, go back to Emacs and connect
to it: <kbd>M-x</kbd> <code>cider-connect</code> <kbd>RET</kbd>. CIDER will
prompt you for the host and port information, which should have been
printed when the previous commands started the nREPL server in your
project.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
In Clojure(Script) buffers the command <code>cider-connect</code> is bound to <kbd>C-c C-x c s</kbd>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you frequently connect to the same hosts and ports, you can tell
CIDER about them and it will use the information to do completing
reads for the host and port prompts when you invoke
<code>cider-connect</code>. You can identify each host with an optional label.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-el hljs" data-lang="el">(setq cider-known-endpoints
  '(("host-a" "10.10.10.1" "7888")
    ("host-b" "7888")))</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_working_with_remote_hosts"><a class="anchor" href="#_working_with_remote_hosts"></a>Working with Remote Hosts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>While most of the time you&#8217;d be connecting to a locally running nREPL
server, that was started manually or via <code>cider-jack-in-*</code>, there&#8217;s
also the option to connect to remote nREPL hosts. For the sake of security
CIDER has the ability to tunnel a connection over SSH in such cases.
This behavior is controlled by
<code>nrepl-use-ssh-fallback-for-remote-hosts</code>: when true, CIDER will attempt to
connect via ssh to remote hosts when unable to connect directly. It&#8217;s
<code>nil</code> by default.</p>
</div>
<div class="paragraph">
<p>There&#8217;s also <code>nrepl-force-ssh-for-remote-hosts</code> which will force the use
of ssh for remote connection unconditionally.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
As nREPL connections are insecure by default you&#8217;re encouraged to use only SSH
tunneling when connecting to servers running outside of your network.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There&#8217;s a another case in which CIDER may optionally leverage the <code>ssh</code> command - when
trying to figure out potential target hosts and ports when you&#8217;re doing <code>cider-connect-*</code>.
If  <code>cider-infer-remote-nrepl-ports</code> is true, CIDER will use ssh to try to infer
nREPL ports on remote hosts (for a direct connection). That option is also set to <code>nil</code>
by default.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Enabling either of these causes CIDER to use
<a href="https://www.gnu.org/software/tramp/">TRAMP</a> for some SSH operations, which parses
config files such as <code>~/.ssh/config</code> and <code>~/.ssh/known_hosts</code>. This is known to
cause problems with complex or nonstandard ssh configs.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can safely run <code>cider-jack-in-*</code> while working with remote files over TRAMP. CIDER
will handle this use-case transparently for you.</p>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script src="../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
